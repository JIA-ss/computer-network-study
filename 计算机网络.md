# 计算机网络

---

[toc]

---

## 一、计算机网络体系结构

> - 计算机网络概述
>   - 概念、组成、功能、分类
>   - 标准化工作及相关组织
>   - **性能指标**
> - 体系结构&参考模型
>   - 分层结构
>   - 协议、接口、服务
>   - ISO/OSI模型 7层
>   - TCP/IP模型 4层

---



### 1. 计算机网络概念

三网：有线电视网络、电信网络、计算机网络

> 计算机网络是一个将分散的、具有独立功能的计算机系统，通过通讯设备与线路连接起来，由功能完善的软件实现`资源共享`和``信息传递``
>
> - 数据通讯
> - 资源共享
> - 分布式处理
> - 提高可靠性
> - 负载均衡

ISP：

> ISP：因特网服务提供者/因特网服务提供商
>
> 是一个向用户综合提供互联网接入业务、信息业务、增值业务的公司，分为主干ISP、地区ISP和本地ISP
>
> 说白了就是给用户分配IP地址的一个服务提供商
>
> 如果两台机器想要进行数据交换，需要经过链路 本地ISP -> 地区 ISP -> 主干 ISP -> 地区ISP -> 本地ISP
>
> IXP的出现，允许地区之间的ISP直接交换数据，避免了再次通过主干ISP较远的路径的情况。

---

### 2. 标准化工作及相关组织

> 要实现不同厂商的软硬件之间互相连通，必须遵从统一标准

**标准分类**：

- 法定标准：OSI
- 事实标准：TCP/IP

**RFC**(Request For Comments) 因特网标准的形式

**相关组织**

- ISO: 国际标准化组织   OSI参考模型、HDLC协议
- ITU：国际电信联盟  制定通信规则
- IEEE：国际电气电子工程师协会  学术机构、IEEE802系列标准、5G
- IETF：Internet工程任务组   负责因特网相关标准的指定 RFC

---

### 3. 性能指标

- **速率**：数据率，或称数据传输率，或称比特率

  > 比特 1/0位
  >
  > 连接在计算机网络上的主机，在数字通信道上传送数据位数的速率
  >
  > ==**速率单位**==
  >
  > 单位 b/s, kb/s, Mb/s, Gb/s, Tb/s
  >
  > 1kb/s = 10<sup>3</sup>b/s
  >
  > 1Mb/s = 10<sup>3</sup>kb/s = 10<sup>6</sup>b/s
  >
  > 1Gb/s = 10<sup>3</sup>Mb/s = 10<sup>6</sup>kb/s = 10<sup>9</sup>b/s
  >
  > 1Tb/s = 10<sup>3</sup>Gb/s = 10<sup>6</sup>Mb/s = 10<sup>9</sup>kb/s = 10<sup>12</sup>b/s
  >
  > ==**存储容量**==
  >
  > `1Btye(字节)=8bit(比特)`
  >
  > 1KB = 2<sup>10</sup>B = 1024B = 1204*8b
  >
  > 1MB = 2<sup>10</sup>KB = 1024KB
  >
  > 1GB = 2<sup>10</sup>MB = 1024MB
  >
  > 1TB = 2<sup>10</sup>GB = 1024GB
  >
  > 

  

- **带宽**

  > 计算机网络中，带宽用来标识网络的通信线路传送数据的能力，通常指单位时间内从网络中的某一点到另一点所能通过的最高==数据率==，单位是==比特每秒==(b/s, kb/s, Mb/s, Gb/s), 代表==网络设备支持的最高速度==
  >
  > 
  >
  > eg. 带宽1Mb/s -> 主机在1us内，可以发送1bit数据； 2Mb/s -> 主机在1us内，可以发送2bit数据
  >
  > 电磁波1us可以向前传播200m   2x10<sup>8</sup>km/s
  >
  > 

  

- **吞吐量**：单位时间内，通过某个网络(或信道、接口)的数据量，单位b/s, kb/s, Mb/s 等

- **时延**：指数据(报文/分组/比特流)从网络(或链路)的一端传送到另一端所需要的时间，也叫延迟或迟延，单位是s

  - 发送时延(传输时延): ==`发送时延=数据长度/信道带宽(发送速率)`==
  - 传播时延：取决于电磁波传播速度和链路长度 ==`传播时延=信道长度/电磁波在信道上的传输速率`===
  - 排队时延：等待输出/入链路可用，路由器缓冲区等待时间
  - 处理时延：路由器检测、找出口的时延

- **时延带宽积**：`时延带宽积=传播时延x带宽` 单位bit

  > 意义是，某段链路内还有多少比特的数据在传输
  >
  > 描述链路内的数据容量

- **往返时延RTT**：发送方发送数据开始，到发送方收到接收方的确认位置，总共经历的时延

  > RTT越大，收到确认之前，可以发送的数据越多
  >
  > RTT包括：
  >
  > 	- 往返传播时延 = 传播时延 * 2
  > 	- 末端处理时间

- **利用率**: 包括 信道利用率 和 网络利用率

  > - 信道利用率= 有数据通过时间/(有+无)数据通过时间
  > - 网络利用率= 信道利用率的加权平均
  >
  > 利用率越大，导致时延增大

---

### 4. 分层结构

为什么要分层？

> 发送文件前要完成的工作
>
> 1. 激活通信链路
> 2. 告诉网络如何识别目的主机
> 3. 检查目的主机是否开机，是否网络正常
> 4. 检查目的主机中文件管理程序是否准备好
> 5. 确保差错和意外可以解决
>
> 因此需要把大问题分为一个个小问题解决，这就涉及到了分层



- 实体：第n层中的活动元素，称为n层实体，同一层的实体叫做对等实体
- 协议：为进行网络中对等实体的数据交换，水平方向
- 接口(访问服务点SAP)：上层使用下层服务的入口
- 服务：下层为相邻上层提供的肝功能调用，垂直方向

- SDU服务数据单元：为完成用户所要求的功能而应该传送的数据
- PCI协议控制信息：控制协议操作的信息
- PDU协议数据单元：PCI+SDU，对等层次之间传送的数据单位

---

### 5. 7层OSI参考模型

OSI参考模型怎么来的？

> 目的：支持异构网络系统的互联互通
>
> 国际标准化组织ISO于1984年提出开放系统互联OSI参考模型
>
> 但是理论成功，市场失败

- 应==用==层
- 表==示==层
- ==会==话层
- 传==输==层
- ==网==络层
- 数据==链==路层
- ==物==理层

> 速记：物链网输会示用 -> 物联网淑慧试用
>
> 上面三层：==资源子网==-> 用于数据处理
>
> 下面三层：==通信子网==-> 用于数据通信
>
> 只有数据链路层，加首部和尾部，其余都加首部

- 应用层

  > 用户与网络的界面
  >
  > 文件传输FTP、电子邮件SMTP、万维网HTTP

- 表示层

  > 用于处理在两个通信系统中交换信息的表示方式，主要用于处理语法和予以
  >
  > 1. 数据格式变换``(翻译官)``
  > 2. ==数据加密解密==
  > 3. 数据压缩和恢复
  >
  > 协议：JPEG、ASCII

- 会话层

  > 向表示层实体/用户进程提供建立连接，并在连接上有序地传输数据
  >
  > 这是会话，也是==建立同步(SYN)==
  >
  > 1. 建立、管理、终止会话
  > 2. 使用校验点，类似断点续传，当断开后，从校验点/同步点继续恢复通信，实现数据同步
  >
  > 协议：ADSP、ASP

- 传输层

  > 负责主机中两个进程的通信，即端到端通信。传输单位是报文段或用户数据报
  >
  > 1. ==可==靠传输、不可靠传输
  > 2. ==差==错控制
  > 3. ==流==量控制
  > 4. 复==用==分用（复用：多个应用层进程，可以同时使用传输层的服务；分用：运输层吧收到的信息分别交付给上面应用层中的进程）
  >
  > > 可差留用，可差的也能留用
  >
  > TCP、UDP

- 网络层

  > 吧分组从源端传到目的端，为分组交换网上的不同主机提供通信服务
  >
  > 单位是数据报
  >
  > 1. 路由选择 *最佳路径*
  > 2. 流量控制
  > 3. 差错控制
  > 4. 拥塞控制
  >
  > 协议：IP、IPX、ICMP、IGMP、ARP、RARP、OSPF

- 数据链路层

  > 吧网络层串下来的数据报组装成帧
  >
  > 单位是帧
  >
  > 1. 成帧（定义帧的开始和结束）
  > 2. 差错控制 帧错+位错
  > 3. 流量控制
  > 4. 访问(接入)控制 控制对信道的访问，因为一个信道只能同时有一个主机在输入
  >
  > 协议：SDLC、HDLC、PPP、STP

- 物理层

  > 在物理媒体上，实现比特流的透明传输
  >
  > 单位是比特
  >
  > 透明传输：不管传送数据内容是什么，都应该能够在链路上传送。
  >
  > 1. 定义接口特性 插头引脚等
  > 2. 定义传输模式 单工、半双工、双工
  > 3. 定义传输速率
  > 4. 比特同步
  > 5. 比特编码
  >
  > 协议：Rj45、802.3

---

### 6. TCP/IP参考模型

|             OSI参考模型              | TCP/IP参考模型 |        TCP/IP协议栈        |
| :----------------------------------: | :------------: | :------------------------: |
| 应用层<br />表示层<br />会话层<br /> |     应用层     |       HTTP、FTP、DNS       |
|                传输层                |     传输层     |          TCP、UDP          |
|                网络层                |     网际层     |             IP             |
|     数据链路层<br />物理层<br />     |   网络接口层   | Ethernet、ATM、Frame Relay |



---

### 7. 5层参考模型

| 5层参考模型 |                        作用                         |  单位  |
| :---------: | :-------------------------------------------------: | :----: |
|   应用层    |           支持各种网络应用FTP、SMTP、HTTP           |  报文  |
|   传输层    |            进程-进程的数据传输 TCP、UDP             | 报文段 |
|   网络层    | 源主机到目的主机的数据分组路由与转发 IP、ICMP、OSPF | 数据报 |
| 数据链路层  |               封装成帧 Ethernet、PPP                |   帧   |
|   物理层    |                      透明传输                       |  比特  |

